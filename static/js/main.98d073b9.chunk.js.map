{"version":3,"sources":["data.js","service/alpha-vantage.service.js","components/App.js","index.js"],"names":["AlphaVantageService","getRSI","symbol","api","get","process","ALPHA_VANTAGE_API_KEY","this","axios","create","baseURL","json","App","useState","name","setName","isLoading","setIsLoading","data","setData","isTimerRunning","setIsTimerRunning","index","setIndex","info","setInfo","error","setError","alphaVantageService","submit","a","response","date","Object","keys","value","RSI","toUpperCase","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","console","log","stocksList","length","Date","toString","code","then","emailjs","send","stock","style","paddingTop","Container","Header","as","textAlign","Form","onSubmit","Field","Input","placeholder","action","content","type","fluid","loading","iconPosition","onChange","e","target","Label","basic","color","pointing","Message","Divider","Button","icon","labelPosition","onClick","Icon","size","map","s","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98d073b9.chunk.js","sourcesContent":["export default [\n  \"sage\",\n  \"pins\",\n  \"tigr\",\n  \"crsp\",\n  \"mbcf\",\n  \"cixx\",\n  \"nycb\",\n  \"fibk\",\n  \"onb\",\n  \"ctg\",\n  \"mgic\",\n  \"abg\",\n  \"oesx\",\n  \"hgbi\",\n  \"tex\",\n  \"cat\",\n  \"cury3\",\n  \"lx\",\n  \"dar\",\n  \"ichr\",\n  \"intt\",\n  \"uthr\",\n  \"mhh\",\n  \"vpg\",\n  \"yala\",\n  \"bdsi\",\n  \"viot\",\n  \"avir\",\n  \"nbix\",\n  \"love\",\n  \"ccrd\",\n  \"trex\",\n  \"pypl\",\n  \"pfe\",\n  \"finv\",\n  \"jnj\",\n];\n","import axios from \"axios\";\n\nclass AlphaVantageService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: \"https://www.alphavantage.co\",\n      json: true,\n    });\n  }\n\n  getRSI = (symbol) =>\n    this.api.get(\n      `/query?function=RSI&symbol=${symbol}&interval=daily&time_period=14&series_type=close&apikey=${process.env.ALPHA_VANTAGE_API_KEY}`\n    );\n}\n\nexport default AlphaVantageService;\n","import \"semantic-ui-css/semantic.min.css\";\n\nimport { useState, useEffect, useRef } from \"react\";\n\nimport emailjs from \"@emailjs/browser\";\n\nimport \"./App.css\";\nimport {\n  Container,\n  Form,\n  Input,\n  Header,\n  Label,\n  Button,\n  Icon,\n  Divider,\n  Message,\n} from \"semantic-ui-react\";\n\nimport stocksList from \"../data.js\";\nimport AlphaVantageService from \"../service/alpha-vantage.service\";\n\nfunction App() {\n  const [name, setName] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  const [index, setIndex] = useState(0);\n  const [info, setInfo] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const alphaVantageService = new AlphaVantageService();\n  // const delay = 180000;\n  const delay = 2000;\n\n  const handleInputChange = (e) => {\n    error && setError(\"\");\n    const { value } = e.target;\n    setName(value);\n  };\n\n  const submit = async () => {\n    setIsLoading(true);\n    setError(\"\");\n    setData(null);\n\n    const response = await alphaVantageService.getRSI(name);\n    if (!response.data[\"Technical Analysis: RSI\"]) setError(\"Symbol not found\");\n    else {\n      const date = Object.keys(response.data[\"Technical Analysis: RSI\"])[0],\n        value = response.data[\"Technical Analysis: RSI\"][date].RSI;\n      setData(`${name.toUpperCase()} is at ${value} on the ${date}`);\n      setName(\"\");\n      setIsLoading(false);\n    }\n  };\n\n  const useInterval = (callback, delay) => {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    });\n\n    useEffect(() => {\n      const tick = () => {\n        savedCallback.current();\n      };\n\n      if (delay !== null) {\n        let id = setInterval(tick, delay);\n        return () => clearInterval(id);\n      }\n    }, [delay]);\n  };\n\n  useInterval(\n    () => {\n      console.log(\n        \"analizing...\",\n        index === stocksList.length ? \"reset index\" : stocksList[index],\n        new Date().toString()\n      );\n      if (index === stocksList.length) setIndex(0);\n      else {\n        const code = stocksList[index];\n\n        alphaVantageService.getRSI(code).then((response) => {\n          const data = response.data[\"Technical Analysis: RSI\"];\n          const date = data && Object.keys(data)[0];\n          const value = data && data[date].RSI;\n\n          if (!data) {\n            emailjs.send(\n              \"optionsFinder\",\n              \"template_qxjqbpl\",\n              { code: code.toUpperCase() },\n              \"user_oXSQFf0rfZ6DBbDUFwVxB\",\n              \"19aaf1817399c2b0bf6a2be48ed26012\"\n            );\n            setInfo(`wrong code: ${code.toUpperCase()}`);\n          } else if (+value < 35) {\n            emailjs.send(\n              \"optionsFinder\",\n              \"template_zul55th\",\n              { stock: code.toUpperCase(), value },\n              \"user_oXSQFf0rfZ6DBbDUFwVxB\",\n              \"19aaf1817399c2b0bf6a2be48ed26012\"\n            );\n            setInfo(\n              `Last update, ${new Date().toString()}, ${code.toUpperCase()} at ${value} on the ${date}`\n            );\n          } else {\n            setInfo(\n              `Last update, ${new Date().toString()}, ${code.toUpperCase()} at ${value} on the ${date}`\n            );\n          }\n        });\n\n        setIndex(index + 1);\n      }\n    },\n    isTimerRunning ? delay : null\n  );\n\n  const runSearch = () => {\n    setIsTimerRunning(true);\n  };\n\n  const pauseSearch = () => {\n    setIsTimerRunning(false);\n    setIndex(0);\n  };\n\n  return (\n    <main style={{ paddingTop: 20 }}>\n      <Container>\n        <Header as=\"h1\" textAlign=\"center\">\n          Oversold stocks finder\n        </Header>\n        <Form onSubmit={submit}>\n          <Form.Field>\n            <Input\n              placeholder=\"enter symbol...\"\n              action={{ content: \"search\", type: \"submit\" }}\n              fluid\n              loading={isLoading}\n              iconPosition=\"left\"\n              error={error}\n              value={name}\n              onChange={handleInputChange}\n            />\n            {!!error && (\n              <Label basic color=\"red\" pointing>\n                {error}\n              </Label>\n            )}\n          </Form.Field>\n        </Form>\n        {!!data && (\n          <Message color=\"green\">\n            <Message.Header>{data}</Message.Header>\n          </Message>\n        )}\n        <Divider />\n        <Button icon labelPosition=\"right\" color=\"green\" onClick={runSearch}>\n          <Icon name=\"play\" />\n          Run Search\n        </Button>\n        <Button icon labelPosition=\"left\" color=\"red\" onClick={pauseSearch}>\n          <Icon name=\"pause\" />\n          Pause\n        </Button>\n        {!!info && (\n          <Message color=\"yellow\" size=\"mini\">\n            <Message.Header>{info}</Message.Header>\n          </Message>\n        )}\n        <Message info>\n          <Message.Header>List of Companies:</Message.Header>\n          {stocksList.map((s) => (\n            <Label>{s.toUpperCase()}</Label>\n          ))}\n        </Message>\n      </Container>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}