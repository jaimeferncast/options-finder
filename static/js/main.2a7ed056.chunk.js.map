{"version":3,"sources":["data.js","service/alpha-vantage.service.js","components/App.js","index.js"],"names":["AlphaVantageService","getRSI","symbol","api","get","getMACD","this","axios","create","baseURL","json","App","useState","name","setName","isLoading","setIsLoading","dataRSI","setDataRSI","dataMACD","setDataMACD","isTimerRunning","index","setIndex","setInfo","error","setError","alphaVantageService","submit","a","responseRSI","responseMACD","data","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","console","log","stocksList","length","Date","toString","code","then","response","date","Object","keys","value","RSI","emailjs","send","stock","toUpperCase","style","paddingTop","Container","Header","as","textAlign","Form","onSubmit","Field","Input","placeholder","action","content","type","fluid","loading","iconPosition","onChange","e","target","Label","basic","color","pointing","class","JSON","stringify","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oSAAe,GACb,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,OACA,MACA,OACA,OACA,MACA,MACA,WACA,KACA,MACA,OACA,OACA,OACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,O,0BChBaA,EAjBb,aAAe,IAAD,gCAOdC,OAAS,SAACC,GAAD,OACP,EAAKC,IAAIC,IAAT,qCACgCF,EADhC,8EARY,KAWdG,QAAU,SAACH,GAAD,OACR,EAAKC,IAAIC,IAAT,yCACoCF,EADpC,wGAXAI,KAAKH,IAAMI,IAAMC,OAAO,CACtBC,QAAS,8BACTC,MAAM,K,QCmMGC,MAjLf,WACE,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAkCF,oBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA8BJ,mBAAS,MAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACA,EAAgCN,mBAAS,MAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KACA,EAA4CR,oBAAS,GAArD,mBAAOS,EAAP,KACA,GADA,KAC0BT,mBAAS,IAAnC,mBAAOU,EAAP,KAAcC,EAAd,KACA,EAAwBX,mBAAS,IAAjC,mBAAaY,GAAb,WACA,EAA0BZ,mBAAS,IAAnC,mBAAOa,EAAP,KAAcC,EAAd,KAEMC,EAAsB,IAAI3B,EAQ1B4B,EAAM,uCAAG,8BAAAC,EAAA,6DACbb,GAAa,GACbU,EAAS,IACTR,EAAW,MACXE,EAAY,MAJC,SAMaO,EAAoB1B,OAAOY,GANxC,cAMPiB,EANO,gBAOcH,EAAoBtB,QAAQQ,GAP1C,OAOPkB,EAPO,OAQRD,EAAYE,KAAK,4BAGpBd,EAAWY,EAAYE,MACvBZ,EAAYW,EAAaC,MACzBlB,EAAQ,IACRE,GAAa,IALbU,EAAS,oBATE,4CAAH,qDA+FZ,OA7EoB,SAACO,EAAUC,GAC7B,IAAMC,EAAgBC,mBAEtBC,qBAAU,WACRF,EAAcG,QAAUL,KAG1BI,qBAAU,WAKR,GAAc,OAAVH,EAAgB,CAClB,IAAIK,EAAKC,aALE,WACXL,EAAcG,YAIaJ,GAC3B,OAAO,kBAAMO,cAAcF,OAE5B,CAACL,IAGNQ,EACE,WAME,GALAC,QAAQC,IACN,eACAtB,IAAUuB,EAAWC,OAAS,cAAgBD,EAAWvB,IACzD,IAAIyB,MAAOC,YAET1B,IAAUuB,EAAWC,OAAQvB,EAAS,OACrC,CACH,IAAM0B,EAAOJ,EAAWvB,GAExBK,EAAoB1B,OAAOgD,GAAMC,MAAK,SAACC,GACrC,IAAMnB,EAAOmB,EAASnB,KAAK,2BACrBoB,EAAOpB,GAAQqB,OAAOC,KAAKtB,GAAM,GACjCuB,EAAQvB,GAAQA,EAAKoB,GAAMI,IAE5BxB,GASOuB,EAAQ,IAClBE,IAAQC,KACN,gBACA,mBACA,CAAEC,MAAOV,EAAKW,cAAeL,SAC7B,6BACA,oCAEF/B,EAAQ,gBAAD,QACW,IAAIuB,MAAOC,WADtB,aACqCC,EAAKW,cAD1C,eAC8DL,EAD9D,mBAC8EH,KAGrF5B,EAAQ,gBAAD,QACW,IAAIuB,MAAOC,WADtB,aACqCC,EAAKW,cAD1C,eAC8DL,EAD9D,mBAC8EH,KArBrFK,IAAQC,KACN,gBACA,mBACA,CAAET,KAAMA,EAAKW,eACb,6BACA,oCAEFpC,EAAQ,eAAD,OAAgByB,EAAKW,oBAmBhCrC,EAASD,EAAQ,MAGrBD,EAvGU,KAuGe,MAazB,sBAAMwC,MAAO,CAAEC,WAAY,IAA3B,SACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQC,GAAG,KAAKC,UAAU,SAA1B,oCAGA,cAACC,EAAA,EAAD,CAAMC,SAAUxC,EAAhB,SACE,eAACuC,EAAA,EAAKE,MAAN,WACE,cAACC,EAAA,EAAD,CACEC,YAAY,kBACZC,OAAQ,CAAEC,QAAS,SAAUC,KAAM,UACnCC,OAAK,EACLC,QAAS7D,EACT8D,aAAa,OACbpD,MAAOA,EACP8B,MAAO1C,EACPiE,SArHc,SAACC,GACzBtD,GAASC,EAAS,IAClB,IAAQ6B,EAAUwB,EAAEC,OAAZzB,MACRzC,EAAQyC,QAoHG9B,GACD,cAACwD,EAAA,EAAD,CAAOC,OAAK,EAACC,MAAM,MAAMC,UAAQ,EAAjC,SACG3D,WAKNR,KAAaE,GACd,sBAAKkE,MAAM,UAAX,UACE,qBAAKA,MAAM,oBAAX,SACE,8BACE,+BAAOC,KAAKC,UAAUtE,EAAS,KAAM,SAGzC,qBAAKoE,MAAM,oBAAX,SACE,8BACE,+BAAOC,KAAKC,UAAUpE,EAAU,KAAM,kBCvKtDqE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2a7ed056.chunk.js","sourcesContent":["export default [\n  \"sage\",\n  \"pins\",\n  \"tigr\",\n  \"crsp\",\n  \"mbcf\",\n  \"cixx\",\n  \"nycb\",\n  \"fibk\",\n  \"onb\",\n  \"ctg\",\n  \"mgic\",\n  \"abg\",\n  \"oesx\",\n  \"hgbi\",\n  \"tex\",\n  \"cat\",\n  \"cury3.sa\",\n  \"lx\",\n  \"dar\",\n  \"ichr\",\n  \"intt\",\n  \"uthr\",\n  \"mhh\",\n  \"vpg\",\n  \"yala\",\n  \"bdsi\",\n  \"viot\",\n  \"avir\",\n  \"nbix\",\n  \"love\",\n  \"ccrd\",\n  \"trex\",\n  \"pypl\",\n  \"pfe\",\n  \"finv\",\n  \"jnj\",\n];\n","import axios from \"axios\"\n\nclass AlphaVantageService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: \"https://www.alphavantage.co\",\n      json: true,\n    })\n  }\n\n  getRSI = (symbol) =>\n    this.api.get(\n      `/query?function=RSI&symbol=${symbol}&interval=daily&time_period=14&series_type=close&apikey=X1A0MBXZH9126NKU`\n    )\n  getMACD = (symbol) =>\n    this.api.get(\n      `/query?function=MACDEXT&symbol=${symbol}&interval=daily&series_type=close&fastmatype=1&slowmatype=1&signalmatype=1&apikey=X1A0MBXZH9126NKU`\n    )\n}\n\nexport default AlphaVantageService\n","import \"semantic-ui-css/semantic.min.css\"\n\nimport { useState, useEffect, useRef } from \"react\"\n\nimport emailjs from \"@emailjs/browser\"\n\nimport \"./App.css\"\nimport {\n  Container,\n  Form,\n  Input,\n  Header,\n  Label,\n  Button,\n  Icon,\n  Divider,\n  Message,\n} from \"semantic-ui-react\"\n\nimport stocksList from \"../data.js\"\nimport AlphaVantageService from \"../service/alpha-vantage.service\"\n\nconst delay = 180000\n\nfunction App() {\n  const [name, setName] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [dataRSI, setDataRSI] = useState(null)\n  const [dataMACD, setDataMACD] = useState(null)\n  const [isTimerRunning, setIsTimerRunning] = useState(false)\n  const [index, setIndex] = useState(0)\n  const [info, setInfo] = useState(\"\")\n  const [error, setError] = useState(\"\")\n\n  const alphaVantageService = new AlphaVantageService()\n\n  const handleInputChange = (e) => {\n    error && setError(\"\")\n    const { value } = e.target\n    setName(value)\n  }\n\n  const submit = async () => {\n    setIsLoading(true)\n    setError(\"\")\n    setDataRSI(null)\n    setDataMACD(null)\n\n    const responseRSI = await alphaVantageService.getRSI(name)\n    const responseMACD = await alphaVantageService.getMACD(name)\n    if (!responseRSI.data[\"Technical Analysis: RSI\"])\n      setError(\"Symbol not found\")\n    else {\n      setDataRSI(responseRSI.data)\n      setDataMACD(responseMACD.data)\n      setName(\"\")\n      setIsLoading(false)\n    }\n  }\n\n  const useInterval = (callback, delay) => {\n    const savedCallback = useRef()\n\n    useEffect(() => {\n      savedCallback.current = callback\n    })\n\n    useEffect(() => {\n      const tick = () => {\n        savedCallback.current()\n      }\n\n      if (delay !== null) {\n        let id = setInterval(tick, delay)\n        return () => clearInterval(id)\n      }\n    }, [delay])\n  }\n\n  useInterval(\n    () => {\n      console.log(\n        \"analizing...\",\n        index === stocksList.length ? \"reset index\" : stocksList[index],\n        new Date().toString()\n      )\n      if (index === stocksList.length) setIndex(0)\n      else {\n        const code = stocksList[index]\n\n        alphaVantageService.getRSI(code).then((response) => {\n          const data = response.data[\"Technical Analysis: RSI\"]\n          const date = data && Object.keys(data)[0]\n          const value = data && data[date].RSI\n\n          if (!data) {\n            emailjs.send(\n              \"optionsFinder\",\n              \"template_qxjqbpl\",\n              { code: code.toUpperCase() },\n              \"user_oXSQFf0rfZ6DBbDUFwVxB\",\n              \"19aaf1817399c2b0bf6a2be48ed26012\"\n            )\n            setInfo(`wrong code: ${code.toUpperCase()}`)\n          } else if (+value < 35) {\n            emailjs.send(\n              \"optionsFinder\",\n              \"template_zul55th\",\n              { stock: code.toUpperCase(), value },\n              \"user_oXSQFf0rfZ6DBbDUFwVxB\",\n              \"19aaf1817399c2b0bf6a2be48ed26012\"\n            )\n            setInfo(\n              `Last update, ${new Date().toString()}, ${code.toUpperCase()} at ${value} on the ${date}`\n            )\n          } else {\n            setInfo(\n              `Last update, ${new Date().toString()}, ${code.toUpperCase()} at ${value} on the ${date}`\n            )\n          }\n        })\n\n        setIndex(index + 1)\n      }\n    },\n    isTimerRunning ? delay : null\n  )\n\n  const runSearch = () => {\n    setIsTimerRunning(true)\n  }\n\n  const pauseSearch = () => {\n    setIsTimerRunning(false)\n    setIndex(0)\n  }\n\n  return (\n    <main style={{ paddingTop: 20 }}>\n      <Container>\n        <Header as=\"h1\" textAlign=\"center\">\n          Oversold stocks finder\n        </Header>\n        <Form onSubmit={submit}>\n          <Form.Field>\n            <Input\n              placeholder=\"enter symbol...\"\n              action={{ content: \"search\", type: \"submit\" }}\n              fluid\n              loading={isLoading}\n              iconPosition=\"left\"\n              error={error}\n              value={name}\n              onChange={handleInputChange}\n            />\n            {!!error && (\n              <Label basic color=\"red\" pointing>\n                {error}\n              </Label>\n            )}\n          </Form.Field>\n        </Form>\n        {!!dataRSI && !!dataMACD && (\n          <div class=\"ui grid\">\n            <div class=\"eight wide column\">\n              <pre>\n                <code>{JSON.stringify(dataRSI, null, 4)}</code>\n              </pre>\n            </div>\n            <div class=\"eight wide column\">\n              <pre>\n                <code>{JSON.stringify(dataMACD, null, 4)}</code>\n              </pre>\n            </div>\n          </div>\n        )}\n        {/* <Divider />\n        <Button icon labelPosition=\"right\" color=\"green\" onClick={runSearch}>\n          <Icon name=\"play\" />\n          Run Search\n        </Button>\n        <Button icon labelPosition=\"left\" color=\"red\" onClick={pauseSearch}>\n          <Icon name=\"pause\" />\n          Pause\n        </Button>\n        {!!info && (\n          <Message color=\"yellow\" size=\"mini\">\n            <Message.Header>{info}</Message.Header>\n          </Message>\n        )}\n        <Message info>\n          <Message.Header>List of Companies:</Message.Header>\n          {stocksList.map((s) => (\n            <Label>{s.toUpperCase()}</Label>\n          ))}\n        </Message> */}\n      </Container>\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}