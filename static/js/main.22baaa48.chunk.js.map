{"version":3,"sources":["data.js","service/alpha-vantage.service.js","components/App.js","index.js"],"names":["AlphaVantageService","getRSI","symbol","api","get","process","ALPHA_VANTAGE_API_KEY","this","axios","create","baseURL","json","App","useState","name","setName","isLoading","setIsLoading","data","setData","isTimerRunning","setIsTimerRunning","index","setIndex","info","setInfo","error","setError","alphaVantageService","submit","a","response","Object","keys","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","useInterval","console","log","stocksList","length","code","then","value","RSI","emailjs","send","stock","toUpperCase","Date","toString","style","paddingTop","Container","Header","as","textAlign","Form","onSubmit","Field","Input","placeholder","action","content","type","fluid","loading","iconPosition","onChange","e","target","Label","basic","color","pointing","JSON","stringify","Divider","Button","icon","labelPosition","onClick","Icon","Message","map","s","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22baaa48.chunk.js","sourcesContent":["export default [\n  \"sage\",\n  \"pins\",\n  \"tigr\",\n  \"crsp\",\n  \"mbcf\",\n  \"cixx\",\n  \"nycb\",\n  \"fibk\",\n  \"onb\",\n  \"ctg\",\n  \"mgic\",\n  \"abg\",\n  \"oesx\",\n  \"hgbi\",\n  \"tex\",\n  \"cat\",\n  \"cury3\",\n  \"lx\",\n  \"dar\",\n  \"ichr\",\n  \"intt\",\n  \"uthr\",\n  \"mhh\",\n  \"vpg\",\n  \"yala\",\n  \"bdsi\",\n  \"viot\",\n  \"avir\",\n  \"nbix\",\n  \"love\",\n  \"ccrd\",\n  \"trex\",\n  \"pypl\",\n  \"pfe\",\n  \"finv\",\n  \"jnj\",\n];\n","import axios from \"axios\";\n\nclass AlphaVantageService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: \"https://www.alphavantage.co\",\n      json: true,\n    });\n  }\n\n  getRSI = (symbol) =>\n    this.api.get(\n      `/query?function=RSI&symbol=${symbol}&interval=daily&time_period=14&series_type=close&apikey=${process.env.ALPHA_VANTAGE_API_KEY}`\n    );\n}\n\nexport default AlphaVantageService;\n","import \"semantic-ui-css/semantic.min.css\";\n\nimport { useState, useEffect, useRef } from \"react\";\n\nimport emailjs from \"@emailjs/browser\";\n\nimport \"./App.css\";\nimport {\n  Container,\n  Form,\n  Input,\n  Header,\n  Label,\n  Button,\n  Icon,\n  Divider,\n  Message,\n} from \"semantic-ui-react\";\n\nimport stocksList from \"../data.js\";\nimport AlphaVantageService from \"../service/alpha-vantage.service\";\n\nfunction App() {\n  const [name, setName] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  const [index, setIndex] = useState(0);\n  const [info, setInfo] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const alphaVantageService = new AlphaVantageService();\n  const delay = 180000;\n  // const delay = 10000;\n\n  const handleInputChange = (e) => {\n    error && setError(\"\");\n    const { value } = e.target;\n    setName(value);\n  };\n\n  const submit = async () => {\n    setIsLoading(true);\n    setError(\"\");\n    setData(null);\n\n    const response = await alphaVantageService.getRSI(name);\n    if (!response.data[\"Technical Analysis: RSI\"]) setError(\"Symbol not found\");\n    else {\n      setData(\n        response.data[\"Technical Analysis: RSI\"][\n          Object.keys(response.data[\"Technical Analysis: RSI\"])[0]\n        ]\n      );\n      setName(\"\");\n      setIsLoading(false);\n    }\n  };\n\n  const useInterval = (callback, delay) => {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n      savedCallback.current = callback;\n    });\n\n    useEffect(() => {\n      const tick = () => {\n        savedCallback.current();\n      };\n\n      if (delay !== null) {\n        let id = setInterval(tick, delay);\n        return () => clearInterval(id);\n      }\n    }, [delay]);\n  };\n\n  useInterval(\n    () => {\n      console.log(\"analizing...\", index);\n      if (index === stocksList.length) setIndex(0);\n      else {\n        const code = stocksList[index];\n\n        alphaVantageService.getRSI(code).then((response) => {\n          const value =\n            response.data[\"Technical Analysis: RSI\"][\n              Object.keys(response.data[\"Technical Analysis: RSI\"])[0]\n            ].RSI;\n\n          if (!response.data[\"Technical Analysis: RSI\"]) {\n            emailjs.send(\n              \"optionsFinder\",\n              \"template_qxjqbpl\",\n              { stock: code.toUpperCase(), value },\n              \"user_oXSQFf0rfZ6DBbDUFwVxB\",\n              \"19aaf1817399c2b0bf6a2be48ed26012\"\n            );\n            setInfo(`last updated at ${new Date().toString()}`);\n          } else if (+value < 35) {\n            emailjs.send(\n              \"optionsFinder\",\n              \"template_zul55th\",\n              { stock: code.toUpperCase(), value },\n              \"user_oXSQFf0rfZ6DBbDUFwVxB\",\n              \"19aaf1817399c2b0bf6a2be48ed26012\"\n            );\n            setInfo(`last updated at ${new Date().toString()}`);\n          } else {\n            setInfo(`last updated at ${new Date().toString()}`);\n          }\n        });\n\n        setIndex(index + 1);\n      }\n    },\n    isTimerRunning ? delay : null\n  );\n\n  const runSearch = () => {\n    setIsTimerRunning(true);\n  };\n\n  const pauseSearch = () => {\n    setIsTimerRunning(false);\n    setIndex(0);\n  };\n\n  return (\n    <main style={{ paddingTop: 20 }}>\n      <Container>\n        <Header as=\"h1\" textAlign=\"center\">\n          Oversold stocks finder\n        </Header>\n        <Form onSubmit={submit}>\n          <Form.Field>\n            <Input\n              placeholder=\"enter symbol...\"\n              action={{ content: \"search\", type: \"submit\" }}\n              fluid\n              loading={isLoading}\n              iconPosition=\"left\"\n              error={error}\n              value={name}\n              onChange={handleInputChange}\n            />\n            {!!error && (\n              <Label basic color=\"red\" pointing>\n                {error}\n              </Label>\n            )}\n          </Form.Field>\n        </Form>\n        {data && (\n          <pre>\n            <code>{JSON.stringify(data, null, 4)}</code>\n          </pre>\n        )}\n        <Divider />\n        <Button icon labelPosition=\"right\" color=\"green\" onClick={runSearch}>\n          <Icon name=\"play\" />\n          Run Search\n        </Button>\n        <Button icon labelPosition=\"left\" color=\"red\" onClick={pauseSearch}>\n          <Icon name=\"pause\" />\n          Pause\n        </Button>\n        {!!info && (\n          <Message color=\"yellow\">\n            <Message.Header>{info}</Message.Header>\n          </Message>\n        )}\n        <Message info>\n          <Message.Header>List of Companies:</Message.Header>\n          {stocksList.map((s) => (\n            <Label>{s.toUpperCase()}</Label>\n          ))}\n        </Message>\n      </Container>\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}